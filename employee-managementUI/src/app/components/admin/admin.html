<div class="container mt-4" id="adminContent">
  <h2 style="color: blue; text-align: center;">Admin Dashboard</h2>
  
  

<!--
  <div class="card mb-4">
    <div class="card-body">
      <h2 class="card-title">Users</h2>
      <div class="row mb-4">
          <div class="col">
              <div class="d-flex">
                  <button class="btn btn-sm btn-primary me-1">
                      Total Users <span class="badge badge-light">{{ totalUsers }}</span>
                  </button>
                  <button class="btn btn-sm btn-info me-1">
                      Admins <span class="badge badge-light"> {{ totalAdmins }} </span>
                  </button>
              </div>
          </div>

          <div class="col">
              <div class="d-flex justify-content-end">
                  <a [routerLink]="['/register']"  class="btn btn-sm btn-success me-1">Create</a>
                  <button class="btn btn-sm btn-outline-info " (click)="exportCSV()">Export Users to CSV</button>
              </div>
          </div>

      </div>
      
      <ul class="list-group">
      <li *ngFor="let user of users | filter:searchTerm" class="list-group-item d-flex justify-content-between">
        <div>
          <strong>{{ user.firstName }} {{user.lastName}}</strong>
          <span class="badge bg-info ms-2">{{ user.role }}</span>
        </div>
        <div>
        <button class="btn btn-sm btn-outline-info me-1" (click)="exportCSV()">Export Users to CSV</button> 
          <a [routerLink]="['/update-role', user.id]" type="submit" class="btn btn-sm btn-warning me-1">Role</a>
          <button class="btn btn-sm btn-danger" (click)="deleteUser(user.id)">Delete</button>
        </div>
      </li>
    </ul>
      
    </div>
  </div>
-->
  <div class="card mb-4">
    <div class="card-body">
      <h2 class="card-title">Employees</h2>
      
      <div class="row mb-3">
          <div class="col">
              <div class="d-flex">
                  <button class="btn btn-sm btn-primary me-1">
                      Total Employees <span class="badge badge-light">{{ totalEmployees }}</span>
                  </button>
              </div>
          </div>

          <div class="col">
              <div class="d-flex justify-content-end">
                  <a [routerLink]="['/create-employee']"  class="btn btn-sm btn-success me-1">Create</a>
                  <button class="btn btn-sm btn-outline-info me-1" (click)="toggleDrawer()">
                    Upload Employees CSV
                  </button>
                  <button class="btn btn-sm btn-outline-info " (click)="exportEmpCSV()">Export Employees to CSV</button>
              </div>
          </div>
      </div>

      <div class="row mb-3">
        <div class="d-flex">
          <input [(ngModel)]="searchTerm" placeholder="Search Employee..." class="form-control" />
        </div>
        
      </div>
      
      <ul class="list-group">
      <li *ngFor="let emp of emps | filter:searchTerm" class="list-group-item d-flex justify-content-between">
        <div>
          <strong>{{ emp.firstName }} {{emp.lastName}}</strong>
          <span class="badge bg-info ms-2">{{ emp.role }}</span>
        </div>
        <div>
          <a [routerLink]="['/update-role', emp.id]" type="submit" class="btn btn-sm btn-warning me-1">Role</a>
          <button class="btn btn-sm btn-danger" (click)="deleteEmp(emp.id)">Delete</button>
        </div>
      </li>
    </ul>
      
    </div>
  </div>

  <div class="slide-panel" *ngIf="isDrawerOpen">
    <div class="card shadow-sm p-3 bg-white rounded" style="width: 400px; position: fixed; right: 0; top: 0; height: 100vh; z-index: 1050; overflow-y: auto; transition: transform 0.3s ease;">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h5 class="mb-0">Upload Employees CSV</h5>
        <button class="btn-close" (click)="toggleDrawer()" aria-label="Close"></button>
      </div>

      <input type="file" (change)="onCSVUpload($event)" accept=".csv" class="form-control mb-3" />
      <button class="btn btn-success w-100" [disabled]="!selectedFile" (click)="uploadCSV()">Upload</button>
      <p *ngIf="uploadMessage" class="mt-3 text-muted">{{ uploadMessage }}</p>
    </div>
  </div>
</div>
